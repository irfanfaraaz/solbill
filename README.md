# SolBill: The Decentralized SaaS Billing Platform

SolBill is a complete, production-ready recurring billing platform built natively on Solana. It empowers creators, developers, and businesses to launch subscription-based services, manage pricing plans, and collect payments entirely on-chain.

By leveraging Solana's speed and low fees, SolBill provides a seamless checkout experience for users while giving merchants powerful tools to monetize their content without relying on centralized payment processors like Stripe.

---

## ‚ú® Why SolBill?

### For Merchants

- **Zero Platform Fees**: Keep 100% of your revenue. Transactions are settled peer-to-peer.
- **Merchant Dashboard**: A comprehensive interface to initialize your service, create customizable pricing plans, and monitor active subscriptions.
- **Flexible Billing Cycles**: Create Infinite recurring plans, Fixed-Term installments (e.g., a 12-month course), or One-Time lifetime access passes.
- **Multi-Token Support**: Accept payments in Native SOL, USDC, or any other SPL token directly to your treasury wallet.
- **Unified Premium Gateway (x402)**: Seamlessly gate your API or content. SolBill intercepts requests, bypassing paywalls for active subscribers and prompting micro-payments for guests.

### For Subscribers

- **Subscriber Dashboard**: A single modern portal to view all your active subscriptions, check upcoming payment dates, and manage your plans.
- **Total Control**: Subscriptions are non-custodial. You delegate exactly what is owed and can cancel instantly with a single transaction‚Äîno hidden dark patterns or contacting support.
- **Price Protection (Grandfathering)**: The price you subscribe at is locked on-chain for the lifetime of your subscription. Even if a merchant raises prices later, you get to keep your original rate.

---

## üõ†Ô∏è How It Works

1. **Service Setup**: A merchant launches a `Service` and sets up `Plans` (e.g., "Pro Tier: 10 USDC / Month").
2. **Checkout**: A user connects their wallet, selects a plan, and subscribes. This sets up a secure token delegation locking in their price and billing schedule.
3. **Automated Payments**: SolBill autonomously handles the recurring billing schedule. When a subscription's `next_billing_timestamp` is reached, it enters the public queue. Any bot or user can execute the `collect_payment` instruction. The program mathematically enforces the collection block time and pays the executor a fixed **Crank Reward** (bounty) instantly, routing the rest directly to the merchant's treasury.
4. **Content Gating**: The merchant uses the SolBill Middleware to protect their application. Active subscribers are granted transparent access, while non-subscribers are blocked.

---

## üíª Technical Stack

SolBill is engineered for maximum reliability, speed, and developer experience.

- **Smart Contracts**: Built with Rust and **Anchor**, utilizing zero-copy account patterns and modular instruction handlers for optimized compute usage.
- **Frontend App**: Built with Next.js 15, Tailwind CSS, and the `@solana/wallet-adapter` suite for a premium, responsive dashboard experience.
- **Client SDK**: Autogenerated via **Codama** (formerly Kinobi), providing a bulletproof, type-safe TypeScript interface to interact with the on-chain program.
- **Middleware**: Integrated with `x402-next` to create a hybrid premium gateway that evaluates on-chain subscription state dynamically at the edge.
- **Automated Collection Engine**: Background automation to handle recurring scheduled payments seamlessly.

---

## üöÄ Quick Start Guide

Ready to test SolBill locally? Follow these steps:

### 1. Environment Configuration

Copy the environment template and configure your RPC and Program IDs:

```bash
cp .env.example .env
```

### 2. Local Development Setup

```bash
# Install dependencies
npm install

# Build the Anchor program locally
npm run anchor-build

# Start the frontend dashboard
npm run dev
```

### 3. Run the Automation Engine

Start the background process to handle recurring payment collections:

```bash
npm run crank
```

---

## üèÜ Superteam Submission Details

**Submitted for the "Rebuild a Backend System as a Solana Program" Bounty.**

- **Program ID**: `AK2xA7SHMKPqvQEirLUNf4gRQjzpQZT3q6v3d62kLyzx`
- **Network**: Solana Devnet
- **Verification**: [View on Solana Explorer](https://explorer.solana.com/address/AK2xA7SHMKPqvQEirLUNf4gRQjzpQZT3q6v3d62kLyzx?cluster=devnet)

Our robust, production-ready implementation shifts the complex logic of SaaS billing onto Solana's decentralized architecture. LiteSVM integration tests verify all mathematical edge cases in milliseconds, ensuring absolute stability for variable billing terms.

---

## üìÑ License

MIT
